# yoga-instructor
![Codemagic build status](https://api.codemagic.io/apps/6045bd26be2f9fe47542401b/default-workflow/status_badge.svg) ![MIT License](https://img.shields.io/github/license/sbis04/yoga-instructor) ![Total lines of code](https://img.shields.io/tokei/lines/github/sbis04/yoga-instructor)

<p align="center">
  <img src="https://github.com/sbis04/yoga-instructor/raw/master/screenshots/sofia_cover_art_2.png" alt="Sofia Cover" />
</p>

<!-- <a href="https://www.youtube.com/watch?v=2jzVifKbhQE&feature=youtu.be"><h3 align="center">Video Demo of the app in action</h4></a> -->

<!-- <a href="https://drive.google.com/file/d/1udM3YbRlCG0A5WJ7hXSH6OqAYvxLBVGQ/view?usp=sharing"><h4 align="center">Download the APK here</h4></a> -->

Sofia is an AI powered personal yoga instructor integrated with a voice assistant for giving proper instructions to improve your posture.

- [Demonstration video](https://youtu.be/rrOlxbKNf9I)
- [Try the app](https://appdistribution.firebase.dev/i/e522634eaaf39b2f)

### Features

- Interactive experience through **real-time pose recognition**. **Voice assistant** enables the user to engage in conversation.

- Uses **computer vision** and **deep learning** Keras models to guide you through every step of the asana only when you complete the previous step of the asana successfully.

- Specifically designed **yoga tracks/playlists** which are suited to the user's health issues, creating a more personalized experience.

- Users are **awarded stars** based on how good the **accuracy of their pose** is once they complete and progress through each step in the track.

<!-- **Sofia** is your personal AI powered Yoga instructor, allowing you to harness the benefits of yoga from any place you want.

* The app is built using a cross-platform framework called **Flutter**, so it can run on both **iOS** and **Android**.

* For authentication, we have used **Auth0** SDK.
  
* **Cloud Firestore** is used for storing the user-info and the track data.

* **Firebase Storage** is used for the storage of the pose videos.

* **Google TTS** API is used for speech output.

* **TFLite** model is used for pose recognition. -->

<img src="https://github.com/sbis04/yoga-instructor/raw/master/screenshots/sofia_timeline_march.png" alt="Sofia timeline" />

:construction: **WIP: Timeline updated on [February 2021]**


# Screenshots

<p align="center">
  <img src="https://github.com/sbis04/yoga-instructor/raw/master/screenshots/new_ui/sofia_layer_1_2.png" alt="Sofia Login" />
</p>

<p align="center">
  <img src="https://github.com/sbis04/yoga-instructor/raw/master/screenshots/new_ui/sofia_layer_2_2.png" alt="Sofia Login" />
</p>

<p align="center">
  <img src="https://github.com/sbis04/yoga-instructor/raw/master/screenshots/new_ui/sofia_layer_3_2.png" alt="Sofia Login" />
</p>

<p align="center">
  <img src="https://github.com/sbis04/yoga-instructor/raw/master/screenshots/new_ui/sofia_layer_4_2.png" alt="Sofia Login" />
</p>

# About

**Sofia** is built from ground up keeping user experience in mind, which is a key ingredient when we can concerned with improving users health. This is why Sofia has an integrated **voice assistant** which not only guides users until the starting of a yoga posture, but also while they perform the poses. It provides a nice hands free experience to the user, guiding them through each pose by giving proper voice feedback and showing their pose accuracy on the screen. At the end points in the form of stars are awarded to the user based on their accuracy of the pose.

Some of the problems that we are trying to solve with Sofia are:

## Problems

- **Obesity** - a serious worldwide health issue.

- People in normal time, have terribly **hectic schedules**, they don’t have time to go to the gym. Some people are insecure about their bodies so avoid going to public gyms as well.

- **Work from home** due to the recent COVID pandemic has deteriorated the situation even more.

- **Physical inactivity** can lead to diseases, both physical and mental. In these trying times, any kind of disease can be deadly.

- Maintaining **correct posture** while exercising is essential, as wrong postures can lead to **body problems**.

## Proposed solution

- We propose **yoga** as a solution to this issue. Practitioners recommend yoga for its **mind-body benefits—flexibility**, toned muscles, reduced stress, among others. Yoga is closely related to the principles of **Indian Ayurveda**. Yoga helps reduce weight as well as **cholesterol**, thus this will be helpful for **diabetics** out there. Yoga reduces the symptoms of **depression** and **anxiety**. It’s beneficial for women during and after **breast cancer** as well as **pregnancy**.

- More recently, scientists have begun to test yoga's effect on serious medical conditions. Yoga has already become part of the s**tandard treatment for a number of medical problems**.

- Sofia is your **real-time personal YOGA instructor**, allowing anyone to harness the benefits of yoga from any place in the world.

- Sofia will ensure that however busy a person might be, they spend some time of their day in physical activity and mental exercises as they **don't have to travel anywhere** to exercise.

### Requirement Specific Tracks

- There are yoga tracks for **Beginners** to **Power Yoga** tracks for a workout. 

- Now, more than ever, we need to boost our immune systems to function better to fight the COVID-19 virus. We have the **immunity booster** yoga track. 

- The **cardiovascular track** helps increase blood flow to the muscles. 

- The **stress release** track will make you feel relaxed and peaceful.

- And many more are will be added to the list soon.

We have laid out the following requirement specific tracks for the initial release of the app:

- **POWER YOGA TRACK**: Adapted from the basic Ashtanga yoga, power yoga requires **increased energy, focus, and strength**. 
Muscles are challenged as the mind and body have to work together simultaneously to hold a position without giving up. Breathing, posing, moving, and increasing flexibility happen together at one time, which unearths a new level of **discipline** in your mind and body.

- **IMMUNITY**: Yoga poses help massage organs and strengthens muscles while breathing techniques and meditation release stress and improve immunity.

- **YOGA IN PREGNANCY**:Yoga is a great way to stay active and is healthy for you and your baby. Yoga classes in pregnancy use relaxation and breathing techniques with postures that are adapted for pregnancy.

- **INSOMNIA**: Yoga isn’t just beneficial for improving core strength, flexibility, and stress levels; it can also help you sleep better—especially if you suffer from insomnia. When people who have insomnia perform yoga on a daily basis, they sleep for longer, fall asleep faster, and return to sleep more quickly if they wake up in the middle of the night. This is also true for older people who have insomnia—those who are 60 and older experience better sleep quality, sleep for longer, and feel better during the day when they perform regular yoga.

- **CARDIOVASCULAR**: Yoga to have a positive effect on cardiovascular risk factors: It helped lower blood pressure in people who have hypertension. It's likely that the yoga restores "baroreceptor sensitivity." 

- **MIGRAINE**: Migraine is a neurological disorder that causes recurring headaches ranging from moderate to high intensity. Yoga is a side-effect-free method to fight migraine. 

- **ASTHMA**: Yoga can help increase breath and body awareness, slow your respiratory rate, and promote calm and relieve stress — all of which are beneficial for people who have asthma.

## How is Sofia different from all the applications out there? 

The first question that arises - why should should you choose Sofia?

**Simply because no other app out there implements real-time pose prediction technology!**

- Every time you are stuck on a step or yoga asana, Sofia waits for you to complete it, and only then it gives instructions for the next asana, just like a **personal yoga instructor** who attends to you in **real-time**.

- You don’t need to pause the video or anything. It will **automatically detect** if you have achieved the correct pose and adapt accordingly.

- Gamified by **awarding stars** to the users based on their pose accuracy.

## Scalability implementation: scale-out

- For a large number of users, we will continue to use **Firebase** for storage, authentication and various other services that comes along with it. We believe **Firebase** provides an amazing set to tools to easily maintain a large userbase with robust and essential services in a single package.

- **MUX** will be used for fast and seamless video streaming to multiple users around the world.

- We can support any number of users with **Tensorflow Lite** on-device ML models.

- For voice recognition we are using **Dialogflow** which easily scales out as it is also connected to the Google Cloud Platform.

## Commercializing 

- This app will have **beginners track** publicly accessible to all users for free as we release.

- We shall have other **requirement specific tracks** as a paid option. But we will give users access to the paid features as a limited time trial so that they can try them out.

- We will have an **active support channel** where users can reach out easily if they face any problem while using the app.

## Scope of going beyond

- Converting the app into a **whole assistant for fitness** in general.

- From **personalized diets** to assessing requirements and suggesting a whole **fitness routine** including food items, schedules, and yoga tracks and timings.

- The app can be used for **ordering health gear** like yoga mats as well as nutritional items, like nutritional granola bars. It can be made into a **monthly plan** for the users specific to the yoga track plan they have chosen.

- Sofia will be a **global platform** for us to introduce and educate people on the benefits of Indian Vedic culture to the global community. This will make yoga a fun experience, hence people will **enjoy** exercising along with improving their physique, mental strength, and will power.

# Usage (try it out)

> **You can try out the app [here](https://appdistribution.firebase.dev/i/e522634eaaf39b2f).**

It is recommended for those who just want to try it out please use the above mentioned link. If you want to see the code, compile and run from the codebase follow the steps below:

* **Clone** the project:
  
  ```bash
  git clone https://github.com/sbis04/yoga-instructor.git
  ```

* Setup **Flutter** on your system following the guide [here](https://flutter.dev/docs/get-started/install).

* Complete the **Firebase setup** by creating a new project from [here](https://console.firebase.google.com/) for the specific platform (Android or iOS) on which you want to run the app.

* Include the Firebase secret files to the proper location in the project, `google-services.json` file for **Android** or `GoogleService-Info.plist` file for **iOS**.

* Then you need to do the **Dialogflow** setup, create a new file inside the `assets/dialogflow` called `sofia_auth.json`, and put your Dialogflow credentials there.

* This repository doesn't contain the **TFLite models**, you can download them from [here](https://drive.google.com/drive/folders/1Hwv29bQdvS0c8NeAuvrFLTluNkbsQNni?usp=sharing). Place it in `assets/tflite` folder inside the root directory.

  > If you don't have access to the Drive, you can ask for permission with a proper reason.

* Run the following to get all packages:
  
  ```bash
  flutter pub get
  ```

* You have successfully completed the setup. Start your emulator/Simulator, or connect your device.

* Run it by using the following command:
  
  ```bash
  flutter run yoga-instructor
  ```

# Tech Stack

<p align="center">
  <img src="https://github.com/sbis04/yoga-instructor/raw/master/screenshots/tech_stack.png" alt="Sofia Login" />
</p>

